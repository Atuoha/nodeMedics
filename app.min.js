'use strict';const express=require("express"),app=express(),mongoose=require("mongoose"),port=1111,path=require("path"),handlebars=require("express-handlebars"),Handlebars=require("Handlebars"),{allowInsecurePrototypeAccess}=require("@handlebars/allow-prototype-access");mongoose.connect("mongodb://localhost:27017/nodeMedics",{useNewUrlParser:!0,useUnifiedTopology:!0}).then(a=>{console.log("connected")}).catch(a=>console.log(a));app.use(express.static(path.join(__dirname,"public")));
app.engine("handlebars",handlebars({defaultLayout:"home",helpers:{},partialsDir:path.join(__dirname,"views/layouts/partials"),handlebars:allowInsecurePrototypeAccess(Handlebars)}));app.set("view engine",handlebars);const home=require("./routes/home/main");app.use("/",home);app.listen(port,()=>{console.log("Listening...")});